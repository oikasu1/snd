<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü•∑ÊÑõÂÆ¢Êõ∏</title>
    <link href="https://oikasu1.github.io/kasuexam/kasu/fonts/twhei.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
	<script src="https://oikasu1.github.io/snd/app.js"></script>
</head>

<body class="bg-gray-50">

    <div id="app" class="min-h-screen">
        <div id="searchOverlay" class="hidden"></div>

        <div id="mainMenu" class="min-h-screen">

            <header class="bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-40 shadow-sm">

                <div class="container mx-auto px-4 py-3">
                    <div class="flex items-center justify-between gap-4">

                        <div id="mainTitle" class="flex-shrink-0">
                            <h1 class="text-2xl font-bold text-blue-600">ü•∑ÊÑõÂÆ¢Êõ∏</h1>
                        </div>

                        <div class="search-container flex-1 max-w-sm">
                            <div class="relative flex items-center w-full gap-2">
                                <button id="searchToggle" class="md:hidden bg-gray-100 hover:bg-white p-2 rounded-lg transition-colors" aria-label="ÈñãÂïüÊêúÂ∞ã">
                                    <span class="material-icons text-gray-600">search</span>
                                </button>

                                <div id="searchBox" class="hidden md:block w-full">
                                    <div class="relative">
                                        <span class="material-icons absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none">search</span>
                                        <input type="text" id="searchInput" placeholder="ÊêúÂ∞ã‰∏ªÈ°å„ÄÅÂÆ¢Ë™û„ÄÅÊãºÈü≥„ÄÅËèØË™û..." class="w-full pl-10 pr-10 py-2 bg-gray-100 border border-transparent rounded-lg focus:bg-white focus:border-blue-500 focus:outline-none transition-colors">
                                        <button id="clearSearch" class="hidden absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600" aria-label="Ê∏ÖÈô§ÊêúÂ∞ã">
                                            <span class="material-icons">close</span>
                                        </button>
                                    </div>
                                </div>

                                <div id="mobileSearchBox" class="hidden w-full">
                                    <div class="relative">
                                        <span class="material-icons absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none">search</span>
                                        <input type="text" id="mobileSearchInput" placeholder="ÊêúÂ∞ã‰∏ªÈ°å..." class="w-full pl-10 pr-12 py-2 bg-white border-2 border-blue-500 rounded-lg focus:outline-none h-12 shadow-xl">
                                        <button id="closeMobileSearch" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600" aria-label="ÈóúÈñâÊêúÂ∞ã">
                                            <span class="material-icons">close</span>
                                        </button>
                                    </div>
                                </div>

                            </div>
                            <div id="searchResults" class="search-results hidden"></div>
                        </div>

                        <div id="userArea" class="flex items-center space-x-3 flex-shrink-0">
                            <div class="relative">
                                <button id="userButton" class="flex items-center space-x-2 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                                    <div id="userAvatar" class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">U</div>
                                    <span id="userName" class="hidden sm:block">Ë®™ÂÆ¢</span>
                                </button>
                                <div id="userDropdown" class="user-dropdown hidden">
                                    <div class="p-4 border-b">
                                        <div class="flex items-center space-x-3">
                                            <div id="dropdownAvatar" class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg">U</div>
                                            <div>
                                                <div id="dropdownName" class="font-semibold">Ë®™ÂÆ¢</div>
                                                <div id="dropdownId" class="text-sm text-gray-500">#guest</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="py-2">
                                        <button id="editProfile" class="w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors">Á∑®ËºØÂÄã‰∫∫Ë≥áÊñô</button>
                                        <button id="clearData" class="w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-red-600">Ê∏ÖÈô§Â≠∏ÁøíË®òÈåÑ</button>
                                        <button id="logout" class="w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors">ÁôªÂá∫</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>


            <main class="bg-gray-50 min-h-screen pt-20 md:pt-14">
                <section class="container mx-auto px-4 py-8 pb-24">

                    <div id="tabBarStrip" class="sticky z-30 bg-gray-50 py-1 border-b border-gray-200 flex items-center justify-between gap-2 mb-4">

                        <div id="multiSelectControls" class="flex items-center gap-2 flex-shrink-0">
                        </div>

                        <div id="catalogTabsContainer" class="flex-grow flex items-center gap-2 overflow-hidden">
                            <div id="catalogTabs" class="flex items-center gap-2 whitespace-nowrap"></div>
                        </div>

                        <div id="moreTabsContainer" class="relative hidden flex-shrink-0">
                            <button id="moreTabsButton" class="flex items-center gap-1 px-3 py-1 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-100 transition-colors">
                                <span>Êõ¥Â§ö</span>
                                <span class="material-icons !text-xl">expand_more</span>
                            </button>
                            <div id="moreTabsDropdown" class="hidden absolute top-full right-0 mt-2 w-48 bg-white rounded-md shadow-lg border z-20 py-1">
                            </div>
                        </div>

                        <button id="viewToggle" class="p-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-lg transition-colors flex-shrink-0" title="ÂàáÊèõÊ™¢Ë¶ñ" aria-label="ÂàáÊèõÊ™¢Ë¶ñÊ®°Âºè">
                            <span class="material-icons">grid_view</span>
                        </button>
                    </div>

                    <div id="categoryList"></div>
                </section>

                <button id="learnSelected" class="hidden fixed bottom-6 right-6 md:bottom-8 md:right-8 lg:bottom-10 lg:right-10 
						   px-6 py-3 bg-blue-600 text-white rounded-full shadow-lg 
						   hover:bg-blue-700 transition-all duration-300 
						   font-semibold text-lg flex items-center gap-2 z-40">
                    <span class="material-icons text-xl">rocket_launch</span>
                    <span id="learnSelectedText">Â≠∏ÁøíÈÅ∏Âèñ</span>
                </button>

                <button id="addToCollectionBtn" class="hidden fixed bottom-6 left-6 md:bottom-8 md:left-8 lg:bottom-10 lg:left-10 
                       px-6 py-3 bg-purple-600 text-white rounded-full shadow-lg 
                       hover:bg-purple-700 transition-all duration-300 
                       font-semibold text-lg flex items-center gap-2 z-40">
                    <span class="material-icons text-xl">favorite</span>
                    <span id="addToCollectionText">Âä†ÂÖ•Êî∂Ëóè</span>
                </button>

                <button id="removeFromCollectionBtn" class="hidden fixed bottom-6 left-6 md:bottom-8 md:left-8 lg:bottom-10 lg:left-10 
                           px-6 py-3 bg-red-600 text-white rounded-full shadow-lg 
                           hover:bg-red-700 transition-all duration-300 
                           font-semibold text-lg flex items-center gap-2 z-40">
                    <span class="material-icons text-xl">delete</span>
                    <span id="removeFromCollectionText">ÂèñÊ∂àÊî∂Ëóè</span>
                </button>
            </main>

        </div>

        <div id="categoryDetail" class="hidden min-h-screen bg-gray-50">
            <header id="topNav" class="bg-white border-b border-gray-200 top-0 z-20">
                <div class="container mx-auto px-4 py-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <button id="goHome" class="text-gray-600 hover:text-gray-800 p-2 hover:bg-gray-100 rounded-lg transition-colors" title="ËøîÂõû" aria-label="ËøîÂõû‰∏ªÈÅ∏ÂñÆ">
                                <span class="material-icons">arrow_back</span>
                            </button>

                            <div class="relative bg-gray-100 rounded-lg">
								<button id="menuToggle" class="flex items-center space-x-2 px-3 py-2 text-gray-800 hover:bg-gray-200 rounded-lg transition-colors">
								    <span id="currentModeIcon" class="material-icons text-blue-600">book</span>
								    <span id="currentMode" class="hidden md:inline">Â≠∏Áøí</span>
								    <span class="material-icons !text-xl text-gray-600">expand_more</span>
								</button>
                                <div id="menuDropdown" class="hidden absolute top-full left-0 mt-1 bg-white rounded-lg shadow-lg border min-w-48 z-50">
                                    <button id="viewSentences" class="w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center space-x-3 border-b">
                                        <span class="material-icons text-blue-600">book</span>
                                        <span>Â≠∏Áøí</span>
                                    </button>
                                    <button id="flashcardMode" class="w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center space-x-3 border-b">
                                        <span class="material-icons text-purple-600">style</span>
                                        <span>ÈñÉÂç°</span>
                                    </button>
                                    <button id="matchingGame" class="w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center space-x-3 border-b">
                                        <span class="material-icons text-orange-600">extension</span>
                                        <span>ÈÖçÂ∞ç</span>
                                    </button>
                                    <button id="quizGame" class="w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center space-x-3 border-b">
                                        <span class="material-icons text-red-600">quiz</span>
                                        <span>Ê∏¨È©ó</span>
                                    </button>
                                    <button id="sortingGame" class="w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                                        <span class="material-icons text-indigo-600">sort</span>
                                        <span>ÊéíÂ∫è</span>
                                    </button>
                                </div>
                            </div>
                            <div id="categoryTitleContainer" class="relative text-xl font-bold text-gray-800"></div>
                        </div>

                        <div class="flex items-center space-x-3 flex-shrink-0">
                            <div class="relative">
                                <button id="userButtonDetail" class="flex items-center space-x-2 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                                    <div id="userAvatarDetail" class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">U</div>
                                    <span id="userNameDetail" class="hidden sm:block text-gray-800">Ë®™ÂÆ¢</span>
                                </button>
                                <div id="userDropdownDetail" class="user-dropdown hidden">
                                    <div class="p-4 border-b">
                                        <div class="flex items-center space-x-3">
                                            <div id="dropdownAvatarDetail" class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg">U</div>
                                            <div>
                                                <div id="dropdownNameDetail" class="font-semibold">Ë®™ÂÆ¢</div>
                                                <div id="dropdownIdDetail" class="text-sm text-gray-500">#guest</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="py-2">
                                        <button id="editProfileDetail" class="w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors">Á∑®ËºØÂÄã‰∫∫Ë≥áÊñô</button>
                                        <button id="clearDataDetail" class="w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-red-600">Ê∏ÖÈô§Â≠∏ÁøíË®òÈåÑ</button>
                                        <button id="logoutDetail" class="w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors">ÁôªÂá∫</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <main id="contentArea" class="container mx-auto px-4 py-6"></main>
        </div>

        <div id="userModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" role="dialog" aria-modal="true" aria-labelledby="userModalTitle">
            <div class="bg-white rounded-xl p-6 max-w-md mx-4 w-full">
                <h3 id="userModalTitle" class="text-xl font-bold mb-4">Á∑®ËºØÂÄã‰∫∫Ë≥áÊñô</h3>
                <div class="space-y-4">
                    <div>
                        <label for="editName" class="block text-sm font-semibold text-gray-700 mb-2">ÂßìÂêç</label>
                        <input type="text" id="editName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none">
                    </div>
                    <div>
                        <label for="editId" class="block text-sm font-semibold text-gray-700 mb-2">Á∑®Ëôü</label>
                        <input type="text" id="editId" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none">
                    </div>
                    <div>
                        <label for="editAvatar" class="block text-sm font-semibold text-gray-700 mb-2">È†≠ÂÉè (ÂñÆ‰∏ÄÂ≠óÂÖÉ)</label>
                        <input type="text" id="editAvatar" maxlength="1" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none">
                    </div>
                </div>
                <div class="flex space-x-3 mt-6">
                    <button id="saveProfile" class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">ÂÑ≤Â≠ò</button>
                    <button id="cancelEdit" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors">ÂèñÊ∂à</button>
                </div>
            </div>
        </div>

        <div id="clearModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" role="dialog" aria-modal="true" aria-labelledby="clearModalTitle">
            <div class="bg-white rounded-xl p-6 max-w-md mx-4 w-full">
                <h3 id="clearModalTitle" class="text-xl font-bold mb-4 text-red-600">Ê∏ÖÈô§Â≠∏ÁøíË®òÈåÑ</h3>
                <p class="text-gray-600 mb-4">Ë´ãËº∏ÂÖ•ÂØÜÁ¢º‰ª•Á¢∫Ë™çÊ∏ÖÈô§ÊâÄÊúâÂ≠∏ÁøíË®òÈåÑÔºö</p>
                <input type="password" id="clearPassword" placeholder="Ë´ãËº∏ÂÖ•ÂØÜÁ¢º" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-red-500 focus:outline-none mb-4">
                <div class="flex space-x-3">
                    <button id="confirmClear" class="flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors">Á¢∫Ë™çÊ∏ÖÈô§</button>
                    <button id="cancelClear" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors">ÂèñÊ∂à</button>
                </div>
            </div>
        </div>

        <div id="resultModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" role="dialog" aria-modal="true" aria-labelledby="resultTitle">
            <div class="bg-white rounded-xl p-5 max-w-sm mx-4 w-full">
                <div id="resultContent" class="text-center">
                    <div id="resultIcon" class="text-5xl mb-3"></div>
                    <h3 id="resultTitle" class="text-xl font-bold mb-3"></h3>
                    <p id="resultMessage" class="text-gray-600 mb-5 whitespace-pre-line"></p>
                    <button id="closeResult" class="bg-blue-500 text-white px-5 py-2 rounded-lg hover:bg-blue-600">Á¢∫ÂÆö</button>
                </div>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="script.js"></script>
</body>

</html>